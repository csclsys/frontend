<div class="container">
  <div class="row">
    <div class="col-12">
      <h1 class="page-title">
        Forum: {{selectedForum.title}}
      </h1>
    </div>
  </div>
  <div class="row justify-content-md-center">
    <div class="col-md-8">
      <mat-form-field class="example-full-width">
        <textarea [formControl]="forumSectionTalkCtr" matInput></textarea>
        <mat-label><mat-icon>contact_support</mat-icon> Tem alguma dúvida referente à <em>{{selectedForum.title}}?</em> Pergunte aqui</mat-label>
      </mat-form-field>
    </div>
  </div>
  <div class="row justify-content-md-center">
    <div class="col-md-3" align="end">
      <mat-form-field>
        <mat-select placeholder="Tags" [formControl]="forumSectionTagsCtr" multiple>
          <mat-select-trigger>
            {{forumSectionTagsCtr.value ? forumSectionTagsCtr.value[0] : ''}}
            <span *ngIf="forumSectionTagsCtr.value?.length > 1">
        (+{{forumSectionTagsCtr.value.length - 1}} {{forumSectionTagsCtr.value?.length === 2 ? 'outro' : 'outros'}})
      </span>
          </mat-select-trigger>
          <mat-option *ngFor="let tag of forumSectionTags" [value]="tag">{{tag}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-md-5" align="end">
      <button style="margin-top: 10px" (click)="addTalk()" [disabled]="forumSectionTalkCtr.invalid || forumSectionTagsCtr.invalid" mat-flat-button color="accent">Perguntar</button>
    </div>
  </div>

  <div style="margin-top: 40px" class="row">
    <div class="col-12">
      <div *ngFor="let item of forunsTalks" class="row forum-talk-line d-flex justify-content-center align-items-center mat-elevation-z4">
        <div class="col-md-1 col-4"><p class="text-center">{{item.votes}}<br>votos</p></div>
        <div class="col-md-1 col-4"><p class="text-center">{{item.replies}}<br>resposta</p></div>
        <div class="col-md-1 col-4"><p class="text-center">{{item.views}}<br>visitas</p></div>
        <div class="col-md-9">
          <div class="row">
            <div class="col-12">
              <p class="form-talk-title">{{item.title}}</p>
            </div>
            <div class="col-12">
              <mat-chip-list class="form-talk-tags">
                <mat-chip *ngFor="let tags of item.tags" class="chip-small" color="primary" selected>{{tags}}</mat-chip>
              </mat-chip-list>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <pre>{{forumSectionTagsCtr.value | json}}</pre>
  <pre>{{forumSectionTalkCtr.value | json}}</pre>

</div>
