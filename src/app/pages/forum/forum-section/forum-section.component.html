<div class="container">

  <div class="component-title">
    <div class="row">
      <button mat-mini-fab style="margin: 0 0 30px 10px" class="back-btn-general" matTooltip="Voltar" routerLink=".." color="primary"><mat-icon>arrow_back</mat-icon></button>
    </div>
    <div class="row">
      <div class="col-12 title-sec">
        <mat-icon>forum</mat-icon>
        <h1 class="">&nbsp;Forum: {{selectedForum.title}}</h1>
      </div>
    </div>

    <!--<div class="row">
      <div class="col-12 d-flex flex-row-reverse align-items-center btn-table-page">
        <button style="margin-left: 10px" (click)="openAddDialog()" mat-fab matTooltip="Cadastrar" color="primary"><mat-icon>add_user</mat-icon></button>
        <button [disabled]="0" mat-mini-fab color="primary" matTooltip="Exportar para planilha"><mat-icon>grid_on</mat-icon></button>
        <button [disabled]="0" mat-mini-fab color="primary" matTooltip="Exportar para PDF"><mat-icon>picture_as_pdf</mat-icon></button>
        <button [disabled]="0" mat-mini-fab color="primary" matTooltip="Imprimir"><mat-icon>print</mat-icon></button>
      </div>
    </div>-->
  </div>


  <div class="row page-area">

    <div class="col-12">

      <div class="row justify-content-md-center">
        <div class="col-md-8">
          <mat-form-field class="example-full-width">
            <textarea [formControl]="forumSectionTalkCtr" matInput></textarea>
            <mat-label><mat-icon>contact_support</mat-icon> Tem alguma dúvida referente à <em>{{selectedForum.title}}?</em> Pergunte aqui</mat-label>
          </mat-form-field>
        </div>
      </div>
      <div class="row justify-content-md-center">
        <div class="col-md-3" align="end">
          <mat-form-field>
            <mat-select placeholder="Temas" [formControl]="forumSectionTagsCtr">
              <mat-option *ngFor="let tag of forumSectionTags" [value]="tag">{{tag}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-5" align="end">
          <button style="margin-top: 10px" (click)="addTalk()" [disabled]="forumSectionTalkCtr.invalid || forumSectionTagsCtr.invalid" mat-flat-button color="accent">Perguntar</button>
        </div>
      </div>

    </div>

  </div>

  <div style="margin-top: 40px" class="row">
    <div class="col-12">
      <div *ngFor="let item of forunsTalks" class="row forum-talk-line d-flex justify-content-center align-items-center mat-elevation-z4">
        <div class="col-md-1 col-4"><p class="text-center">{{item.replies}}<br>resposta</p></div>
        <div class="col-md-1 col-4"><p class="text-center">{{item.views}}<br>visitas</p></div>
        <div class="col-md-10">
          <div class="row">
            <div class="col-12">
              <a routerLink="./discussao" [queryParams]="{id: item.id}"><p class="form-talk-title">{{item.title}}</p></a>
            </div>
            <div class="col-12">
              <mat-chip-list class="form-talk-tags">
                <mat-chip class="chip-small" color="primary" selected>{{item.tag}}</mat-chip>
              </mat-chip-list>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <pre>{{forumSectionTagsCtr.value | json}}</pre>
  <pre>{{forumSectionTalkCtr.value | json}}</pre>

</div>
